/* 1. Tailwind v4 엔진 및 플러그인 로드 */
@import "tailwindcss";

/* 2. 다크모드 설정 */
@custom-variant dark (&:is(.dark *));

/* 3. 테마 설정 (Tailwind 유틸리티 클래스 생성) */
@theme {
  /* ========================================================
     [Semantic] 역할별 색상 매핑
     ======================================================== */

  /* 기본 요소 */
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  /* 컨테이너 */
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);

  /* 액션 (버튼 등) */
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  /* 상태 (뱃지, 알림) */
  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);
  --color-warning: var(--warning);
  --color-warning-foreground: var(--warning-foreground);
  --color-info: var(--info);
  --color-info-foreground: var(--info-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-gray-solid: var(--status-archived);

  /* 폼 요소 */
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  /* ========================================================
     ✅ [BDS Extension] 레거시 호환용 유틸리티 (복원됨)
     새로 구축한 스케일(50~900)에 레거시 이름을 매핑합니다.
     ======================================================== */

  /* Page & Layout */
  --color-bum-bg-page: var(--background-page);

  /* Blue (Brand) */
  --color-bum-blue-main: var(--blue-600);
  --color-bum-blue-light: var(--blue-50);
  --color-bum-blue-border: var(--blue-200);
  --color-bum-blue-dark: var(--blue-700);

  /* Green (Success) */
  --color-bum-green-main: var(--green-600);
  --color-bum-green-light: var(--green-50);
  --color-bum-green-border: var(--green-300);
  --color-bum-green-dark: var(--green-700);

  /* Orange (Warning) */
  --color-bum-orange-main: var(--orange-600);
  --color-bum-orange-light: var(--orange-50);
  --color-bum-orange-border: var(--orange-300);

  /* Red (Danger) */
  --color-bum-red-main: var(--red-600);
  --color-bum-red-light: var(--red-50);
  --color-bum-red-border: var(--red-300);
  --color-bum-red-dark: var(--red-700);

  /* Gray (Neutral) */
  --color-bum-gray: var(--gray-100); /* #f5f5f5 */
  --color-bum-gray-200: var(--gray-200); /* hover */
  --color-bum-gray-300: var(--gray-300); /* border */
  --color-bum-gray-border: var(--gray-400); /* #bdbdbd */
  --color-bum-gray-600: var(--gray-700); /* #666 -> 700 */
  --color-bum-gray-700: var(--gray-800); /* #424242 -> 800 */
  --color-bum-gray-800: var(--gray-900); /* #333 -> 900 */

  /* 반경 (Radius) */
  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
}

/* 4. CSS 변수 정의 */
@layer base {
  :root {
    /* ==================================================================
       1. PRIMITIVE TOKENS (원시 토큰) - 색상 스케일
       ================================================================== */

    /* [Blue] 브랜드 메인 컬러 (#1775D2 기반) */
    --blue-50: #e3f2fd; /* bum-blue-light */
    --blue-100: #bbdefb;
    --blue-200: #90caf9; /* bum-blue-border */
    --blue-300: #64b5f6;
    --blue-400: #42a5f5;
    --blue-500: #2196f3;
    --blue-600: #1775d2; /* bum-blue-main */
    --blue-700: #1565c0; /* bum-blue-dark */
    --blue-800: #0d47a1;
    --blue-900: #002171;

    /* [Gray] 무채색 */
    --gray-0: #ffffff;
    --gray-50: #fafafa;
    --gray-100: #f5f5f5; /* bum-gray */
    --gray-200: #e0e0e0; /* bum-gray-200 */
    --gray-300: #dddddd; /* bum-gray-300 */
    --gray-350: #cccccc;
    --gray-400: #bdbdbd; /* bum-gray-border */
    --gray-500: #999999;
    --gray-600: #757474; /* Archived Badge */
    --gray-700: #666666; /* bum-gray-600 (#666) */
    --gray-800: #424242; /* bum-gray-700 (#424) */
    --gray-900: #333333; /* bum-gray-800 (#333) */
    --gray-950: #1e2124;

    /* [Green] 성공 (#388e3c 기반) */
    --green-50: #e8f5e9; /* bum-green-light */
    --green-100: #c8e6c9;
    --green-200: #a5d6a7;
    --green-300: #81c784; /* bum-green-border */
    --green-400: #66bb6a;
    --green-500: #4caf50;
    --green-600: #388e3c; /* bum-green-main */
    --green-700: #2e7d32; /* bum-green-dark */
    --green-800: #1b5e20;
    --green-900: #003300;

    /* [Red] 위험 (#d32f2f 기반) */
    --red-50: #ffebee; /* bum-red-light */
    --red-100: #ffcdd2;
    --red-200: #ef9a9a;
    --red-300: #e57373; /* bum-red-border */
    --red-400: #ef5350;
    --red-500: #f44336;
    --red-600: #d32f2f; /* bum-red-main */
    --red-700: #c62828; /* bum-red-dark */
    --red-800: #b71c1c;
    --red-900: #7f0000;

    /* [Orange] 경고 (#f57c00 기반) */
    --orange-50: #fff3e0; /* bum-orange-light */
    --orange-100: #ffe0b2;
    --orange-200: #ffcc80;
    --orange-300: #ffb74d; /* bum-orange-border */
    --orange-400: #ffa726;
    --orange-500: #ff9800;
    --orange-600: #f57c00; /* bum-orange-main */
    --orange-700: #ef6c00;
    --orange-800: #e65100;
    --orange-900: #e65100;

    /* [Cyan] 정보 (#0288d1 기반) */
    --cyan-500: #0288d1; /* Main Info */
    --cyan-600: #0277bd;

    /* [Radius] */
    --radius-base: 0.25rem;

    /* ==================================================================
       2. SEMANTIC TOKENS (의미론적 토큰)
       ================================================================== */

    /* [배경] */
    --background: var(--gray-0);
    --foreground: var(--gray-900);
    --background-page: #f0f0f0;

    --card: var(--gray-0);
    --card-foreground: var(--gray-900);

    --popover: var(--gray-0);
    --popover-foreground: var(--gray-900);

    /* [액션] */
    --primary: var(--blue-600);
    --primary-foreground: var(--gray-0);

    --secondary: var(--gray-100);
    --secondary-foreground: var(--gray-900);

    --destructive: var(--red-600);
    --destructive-foreground: var(--gray-0);

    --accent: var(--gray-100);
    --accent-foreground: var(--blue-600);

    /* [상태] */
    --success: var(--green-600);
    --success-foreground: var(--gray-0);

    --warning: var(--orange-600);
    --warning-foreground: var(--gray-0);

    --info: var(--cyan-500);
    --info-foreground: var(--gray-0);

    --status-archived: var(--gray-600); /* #757474 */

    --muted: var(--gray-100);
    --muted-foreground: var(--gray-500);

    /* [테두리] */
    --border: var(--gray-300);
    --input: var(--gray-300);
    --ring: var(--blue-600);

    /* [기타] */
    --radius: var(--radius-base);
  }

  /* ==================================================================
     3. DARK MODE & GLOBAL
     ================================================================== */
  .dark {
    --background: var(--gray-950);
    --foreground: var(--gray-100);
    --card: #1a1a1a;
    --card-foreground: var(--gray-100);
    --popover: #1a1a1a;
    --popover-foreground: var(--gray-100);

    --primary: var(--blue-300);
    --primary-foreground: var(--gray-950);

    --secondary: var(--gray-800);
    --secondary-foreground: var(--gray-100);

    --muted: #2a2a2a;
    --muted-foreground: var(--gray-400);

    --accent: #2a2a2a;
    --accent-foreground: var(--gray-0);

    --destructive: var(--red-400);
    --destructive-foreground: var(--gray-0);

    --border: var(--gray-700);
    --input: var(--gray-700);
    --ring: var(--blue-300);
  }

  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground;
    font-family: Arial, sans-serif;
    line-height: 1.5;
  }

  input,
  textarea,
  select,
  button {
    font-family: inherit;
  }
}
